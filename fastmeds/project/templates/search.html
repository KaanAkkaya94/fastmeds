{% extends 'base.html' %}

{% block main %}

    <div class="container text-center">
        <h1>Results for "{{ query }}"</h1>
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 g-3 justify-content-center" style="margin:10px;">
        {% for item in results %}
        <div class="col prod_card"><div class="card">
            <a href="{{ url_for('main.product_details', product_id=item.id) }}">
                <img src="{{ url_for('static', filename='img/' + item.name.split(' ')[0] +'.jpg') }}" class="card-img-top" alt="card-img-top">
            </a>
            <div class="card-body d-grid gap-2">
                <h5 class="card-title">{{ item.name }}</h5>
                <h2>$ {{ item.price }}</h2>
            </div>
            <div class="card-footer">
            <form method="POST"
                action="{{ url_for('main.adding_to_basket', product_id=item.id) }}"
                class="d-flex flex-column align-items-center">
                <input
                    type="number"
                    name="quantity"
                    value="1"
                    min="1"
                    style="width: 55px; font-size: 1rem; padding: 2px 4px; border-radius: 4px; border: 1px solid #ccc; text-align: center;"
                    class="mb-2"
                    aria-label="Quantity"
                >
                <input
                    type="submit"
                    value="+ Add to Basket"
                    class="btn add_button brand_color_set w-100"
                >
            </form>
        </div>

        </div>
        </div>
        {% endfor %}
    </div>
    </div>

{% endblock %}